<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="./style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Vortara Redaketjo de Valso</title>
  <style>
    textarea {
      font-size: 16px;
    }
  </style>
</head>

<body>
  <h1>Vortara Redaketjo de Valso</h1>
  <input type=""><button>serĉi</button><br>
  <textarea onchange="tweet()" id="tekstejo" cols="50" rows="10"></textarea>
  <br>
  <button onclick="enigi(this);fokuso()">,</button>
  <button onclick="enigi(this);fokuso()">;</button>
  <button onclick="enigi(this);fokuso()">//(tr)//</button>
  <button onclick="enigi(this);fokuso()">//(ntr)//</button>
  <button onclick="enigi(this);fokuso()">//(x)//</button>
  <button onclick="enigi(this);fokuso()">//(f)//</button>
  <button onclick="enigi(this);fokuso()">//(k)//</button>
  <button onclick="enigi(this);fokuso()">//(malofte)//</button>
  <button onclick="enigi(this);fokuso()">//(PIV)//</button>
  <button onclick="enigi(this);fokuso()">>></button>

  <br>
<button onclick="enigi(this);fokuso()">{AGR}</button>
<button onclick="enigi(this);fokuso()">{ARKE}</button>
<button onclick="enigi(this);fokuso()">{ARKI}</button>
<button onclick="enigi(this);fokuso()">{ANA}</button>
<button onclick="enigi(this);fokuso()">{AST}</button>
<button onclick="enigi(this);fokuso()">{AUT}</button>
<button onclick="enigi(this);fokuso()">{AVI}</button>
<button onclick="enigi(this);fokuso()">{BAK}</button>
<button onclick="enigi(this);fokuso()">{BELA}</button>
<button onclick="enigi(this);fokuso()">{BELE}</button>
<button onclick="enigi(this);fokuso()">{BIB}</button>
<button onclick="enigi(this);fokuso()">{BIO}</button>
<button onclick="enigi(this);fokuso()">{BOT}</button>
<button onclick="enigi(this);fokuso()">{BUD}</button>
<button onclick="enigi(this);fokuso()">{EKOL}</button>
<button onclick="enigi(this);fokuso()">{EKON}</button>
<button onclick="enigi(this);fokuso()">{ELE}</button>
<button onclick="enigi(this);fokuso()">{ELET}</button>
<button onclick="enigi(this);fokuso()">{ESP}</button>
<button onclick="enigi(this);fokuso()">{FER}</button>
<button onclick="enigi(this);fokuso()">{FIL}</button>
<button onclick="enigi(this);fokuso()">{FIZ}</button>
<button onclick="enigi(this);fokuso()">{FIZL}</button>
<button onclick="enigi(this);fokuso()">{FON}</button>
<button onclick="enigi(this);fokuso()">{FOT}</button>
<button onclick="enigi(this);fokuso()">{GEN}</button>
<button onclick="enigi(this);fokuso()">{GEOD}</button>
<button onclick="enigi(this);fokuso()">{GEOG}</button>
<button onclick="enigi(this);fokuso()">{GEOL}</button>
<button onclick="enigi(this);fokuso()">{GRA}</button>
<button onclick="enigi(this);fokuso()">{HER}</button>
<button onclick="enigi(this);fokuso()">{HIN}</button>
<button onclick="enigi(this);fokuso()">{HIS}</button>
<button onclick="enigi(this);fokuso()">{HOR}</button>
<button onclick="enigi(this);fokuso()">{ISL}</button>
<button onclick="enigi(this);fokuso()">{JUR}</button>
<button onclick="enigi(this);fokuso()">{KAL}</button>
<button onclick="enigi(this);fokuso()">{KAT}</button>
<button onclick="enigi(this);fokuso()">{KEM}</button>
<button onclick="enigi(this);fokuso()">{KIN}</button>
<button onclick="enigi(this);fokuso()">{KIR}</button>
<button onclick="enigi(this);fokuso()">{KOMP}</button>
<button onclick="enigi(this);fokuso()">{KON}</button>
<button onclick="enigi(this);fokuso()">{KRI}</button>
<button onclick="enigi(this);fokuso()">{KUI}</button>
<button onclick="enigi(this);fokuso()">{LIN}</button>
<button onclick="enigi(this);fokuso()">{MAR}</button>
<button onclick="enigi(this);fokuso()">{MAS}</button>
<button onclick="enigi(this);fokuso()">{MAT}</button>
<button onclick="enigi(this);fokuso()">{MAH}</button>
<button onclick="enigi(this);fokuso()">{MED}</button>
<button onclick="enigi(this);fokuso()">{MET}</button>
<button onclick="enigi(this);fokuso()">{MIL}</button>
<button onclick="enigi(this);fokuso()">{MIN}</button>
<button onclick="enigi(this);fokuso()">{MIT}</button>
<button onclick="enigi(this);fokuso()">{MUZ}</button>
<button onclick="enigi(this);fokuso()">{NOM}</button>
<button onclick="enigi(this);fokuso()">{PAL}</button>
<button onclick="enigi(this);fokuso()">{PED}</button>
<button onclick="enigi(this);fokuso()">{PERS}</button>
<button onclick="enigi(this);fokuso()">{POE}</button>
<button onclick="enigi(this);fokuso()">{POL}</button>
<button onclick="enigi(this);fokuso()">{POSX}</button>
<button onclick="enigi(this);fokuso()">{PRA}</button>
<button onclick="enigi(this);fokuso()">{PSI}</button>
<button onclick="enigi(this);fokuso()">{RAD}</button>
<button onclick="enigi(this);fokuso()">{REL}</button>
<button onclick="enigi(this);fokuso()">{RET}</button>
<button onclick="enigi(this);fokuso()">{SCI}</button>
<button onclick="enigi(this);fokuso()">{SHI}</button>
<button onclick="enigi(this);fokuso()">{SPO}</button>
<button onclick="enigi(this);fokuso()">{TIP}</button>
<button onclick="enigi(this);fokuso()">{TEA}</button>
<button onclick="enigi(this);fokuso()">{TEK}</button>
<button onclick="enigi(this);fokuso()">{TEKS}</button>
<button onclick="enigi(this);fokuso()">{TEL}</button>
<button onclick="enigi(this);fokuso()">{TRA}</button>
<button onclick="enigi(this);fokuso()">{ZOO}</button>
<button onclick="enigi(this);fokuso()">{THA}</button>
  <script>
    let tekstejo = document.getElementById("tekstejo")
    let novaTeksto = ""
    const x = document.createElement("A");
    const t = document.createTextNode("Tweet");

    function fokuso() {
      tekstejo.focus()
    }

    function enigi(t) {
      //serĉi la posicion
      var startPos = tekstejo.selectionStart;
      var endPos = tekstejo.selectionEnd;
      console.log(startPos + ", " + endPos);

      novaTeksto = tekstejo.value + t.innerHTML + " "
      document.getElementById("tekstejo").value = novaTeksto
      tweet()
    }

    function tweet() {
      console.log("pp");
      let novaTekstoPlus = novaTeksto.replace(/ /g,"+").replace(/{/g,"%7B").replace(/}/g,"%7D")
      x.setAttribute("href", "https://twitter.com/intent/tweet?text=" + novaTekstoPlus);
      x.target = "_blank";
      x.appendChild(t);
      document.body.appendChild(x);
    }

    let ĝisdato = document.lastModified
    document.write("<br>"+ ĝisdato)
</script>
</body>

</html>
